{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-reducer.js","Comps/Container/Container.js","Comps/Container/Container.module.css","redux/contacts/contacts-actions.js","redux/store.js","Comps/Navigation.js","Comps/UserMenu/default-avatar.svg","Comps/UserMenu/UserMenu.js","Comps/AuthNav.js","Comps/AppBar.js","Comps/PrivateRoute.js","Comps/PublicRoute.js","App.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","logIn","operations","logOut","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","console","log","rejectWithValue","get","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","name","getUsermail","email","getIsFetchingCurrent","isFetchingCurrentUser","authSlice","createSlice","initialState","extraReducers","authOperations","fulfilled","action","payload","pending","rejected","contactsOperations","fetchContacts","dispatch","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","message","addContact","newContact","addContactRequest","then","addContactSuccess","catch","error","addContactError","deleteContact","contactId","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","getFilter","contacts","filter","getAllContacts","items","getCompletedContactCount","createSelector","reduce","total","contact","completed","contactsSelectors","getLoading","loading","getVisibleContacts","normalizeFilter","toLowerCase","number","includes","sort","b","localeCompare","getTotalContactCount","length","createReducer","id","changeFilter","combineReducers","Container","children","className","styles","container","module","exports","createAction","rootReducer","authReducer","contactsReducer","store","configureStore","reducer","devTools","process","setupListeners","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","alignItems","avatar","marginRight","mail","UserMenu","useDispatch","defaultAvatar","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","ContactsView","App","fallback","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad0dfcc8.chunk.js","sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\n// console.log(axios.defaults.baseURL)\n// qweqwe qwerty@gmai.com 1234qaz \n// user456/7 user456@gmail.com user456\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n  // POST @ /users/signup body: { name, email, password }. Signup успешно - добавляем токен в HTTP-заголовок\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    // Добавить обработку ошибки error.message\n  }\n});\n//  POST @ /users/login body: { email, password }. Login успешно - добавляем токен в HTTP-заголовок\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n        // Добавить обработку ошибки error.message\n\n  }\n});\n// POST @ /users/logout headers: Authorization: Bearer token. Logout успешно - удаляем токен из HTTP-заголовка\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    // Добавить обработку ошибки error.message\n  }\n});\n/* GET @ /users/current\n * headers: Authorization: Bearer token\n * 1. Забираем токен из стейта через getState()\n * 2. Если токен: нет, выходим не выполняя никаких операций\n * 3.             есть, добавляет его в HTTP-заголовок и выполянем операцию*/\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log('Токена нет, уходим из fetchCurrentUser');\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      // Добавить обработку ошибки error.message\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUsername = state => state.auth.user.name;\nconst getUsermail = state => state.auth.user.email;\n\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getUsermail,\n  getIsFetchingCurrent,\n};\nexport default authSelectors;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import axios from \"axios\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from \"./contacts-actions\";\r\n\r\n// GET @ /contacts\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get(\"/contacts\");\r\n\r\n    dispatch(fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error.message));\r\n  }\r\n};\r\n\r\n// POST @ /contacts\r\nconst addContact = newContact => async dispatch => {\r\n  dispatch(addContactRequest());\r\n\r\n  await axios\r\n    .post(\"/contacts\", newContact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error.message)));\r\n};\r\n\r\n// DELETE @ /contacts/:id\r\nconst deleteContact = contactId => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${contactId}`)\r\n    .then(() => dispatch(deleteContactSuccess(contactId)))\r\n    .catch(error => dispatch(deleteContactError(error.message)));\r\n};\r\n\r\nconst contactsOperations = {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n};\r\nexport default contactsOperations;\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nconst getLoading = state => state.contacts.loading;\r\nconst getFilter = state => state.contacts.filter; \r\nconst getAllContacts = state => state.contacts.items;\r\n\r\nconst getTotalContactCount = state => {\r\n  const contacts = getAllContacts(state);\r\n  return contacts.length;\r\n};\r\n\r\nconst getCompletedContactCount = createSelector([getAllContacts], contacts => {\r\n  return contacts.reduce(\r\n    (total, contact) => (contact.completed ? total + 1 : total),\r\n    0\r\n  );\r\n});\r\n// M!\r\nexport const getVisibleContacts = createSelector(\r\n  [getFilter, getAllContacts],\r\n  (filter, contacts) => {\r\n    const normalizeFilter = filter.toLowerCase();\r\n    return contacts\r\n      .filter(\r\n        ({ name, number }) =>\r\n          name.toLowerCase().includes(normalizeFilter) ||\r\n          number.includes(normalizeFilter)\r\n      )\r\n      .sort((a, b) => a.name.localeCompare(b.name));\r\n  }\r\n);\r\n\r\nconst contactsSelectors = {\r\n  getLoading,\r\n  getFilter,\r\n  getVisibleContacts,\r\n  getTotalContactCount,\r\n  getCompletedContactCount,\r\n};\r\n\r\nexport default contactsSelectors;\r\n// const getVisibleContacts = createSelector(\r\n//   [getAllContacts, getFilter],\r\n//   (contacts, filter) => {\r\n//     const normalizedFilter = filter.toLowerCase();\r\n//     return contacts.filter(({ description }) =>\r\n//       description.toLowerCase().includes(normalizedFilter)\r\n//     );\r\n//   }\r\n// );\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst error = createReducer(null, {});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1Pg4c\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nexport const fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\n// export const toggleCompletedRequest = createAction(\r\n//   'contacts/toggleCompletedRequest',\r\n// );\r\n// export const toggleCompletedSuccess = createAction(\r\n//   'contacts/toggleCompletedSuccess',\r\n// );\r\n// export const toggleCompletedError = createAction('contacts/toggleCompletedError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\n\r\nimport { authReducer } from \"./auth\";\r\nimport { contactsReducer } from \"./contacts\";\r\n// import filter from \"./slices/filter\";\r\nconst rootReducer = {\r\n  auth: authReducer,\r\n  contacts: contactsReducer,\r\n  // filter,\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  // middleware: getDefaultMiddleware => [\r\n  //   ...getDefaultMiddleware(),\r\n  //   items.middleware,\r\n  // ],\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\nexport default store;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"#2A363B\",\r\n  },\r\n  activeLink: {\r\n    color: \"#E84A5F\",\r\n  },\r\n};\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        Intro\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <>\r\n          <NavLink\r\n            to=\"/contacts\"\r\n            exact\r\n            style={styles.link}\r\n            activeStyle={styles.activeLink}\r\n          >\r\n            Contacts\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.f8b384b5.svg\";","import { useDispatch, useSelector } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from './default-avatar.svg';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginRight: 4,\n  },\n  mail: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  // const name = useSelector(authSelectors.getUsername);\n  const email = useSelector(authSelectors.getUsermail);\n\n  const avatar = defaultAvatar;\n\n  return (\n    <div style={styles.container}>\n      <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n      <span style={styles.mail}>{email}</span>\n      <button type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\n        {/* Log Out */}\n        Выйти\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        SignUp\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        LogIn\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport UserMenu from \"./UserMenu\";\r\nimport AuthNav from \"./AuthNav\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nconst styles = {\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    borderBottom: \"1px solid #2A363B\",\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from '../redux/auth';\n/* повторяет API Route и рендерит Route: если маршрут приватный,а пользователь залогинен,\n * то рендерит компонент, иначе - Redirect на redirectTo */\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n/* маршрут ограниченный, а юзер залогинен, то рендерит Redirect на redirectTo, иначе - компонент */\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { Suspense, lazy } from \"react\";\nimport { Switch, Redirect } from \"react-router-dom\";\n// import { Toaster } from \"react-hot-toaster\";\nimport Container from \"./Comps/Container\";\nimport AppBar from \"./Comps/AppBar\";\nimport PrivateRoute from \"./Comps/PrivateRoute\";\nimport PublicRoute from \"./Comps/PublicRoute\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactsView\"));\n\nexport default function App() {\n  return (\n    <Container>\n      <AppBar />\n      <Switch>\n        <Suspense fallback={<p>Loading...</p>}>\n          <PublicRoute exact path=\"/\">\n            <HomeView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/register\" restricted>\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <LoginView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n\n          <Redirect to=\"/\" />\n        </Suspense>\n      </Switch>\n      {/* <Toaster position=\"top-right\" /> */}\n    </Container>\n  );\n}\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport store from \"./redux/store\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}